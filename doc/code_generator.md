# 2.2 code_generator

- 这里介绍 code_generator 代码生成器，位于 config/code_generator.py 文件中
- 它的作用是自动生成配置类的代码
- 整个配置系统架构模式如下：

JSON 定义 -> 代码生成配置类代码 -> 读取配置

- 实现一种只需要关心配置的定义，然后配置的代码由生成器自动生成，应用的时候负责读取生成的配置
- 每次修改配置的定义的时候都能够自动的生成对应的配置类然后供程序应用负责读取

## 规则

- 在写代码的时候，通常需要换行、空格、打字等格式上的调整，
- 代码生成器就是把你定义好的一些结构，按照规则去生成相应的代码，
- 不需要关心那些繁琐的格式和规范，你只需要告诉它你要做什么就行

## TabWrapper

- 这是一个缩进包装器，当你需要编写字典、对象、列表等结构需要缩进代码的时候，
- 通过这个缩进包装器会自动帮你完成所有的缩进，包含进入增加缩进，退出减少缩进，能够完美处理嵌套结构

## CodeGenerator

- 这是代码生成器的核心类，它会保存你所有生成的配置类代码，还能够控制缩进

### add(line)

- 向代码生成器中添加一行代码，会自动处理缩进

### Value(key, value)

- 向代码生成器中添加一个键值对（配置/变量），会根据类型自动填充格式，比如字符串会自动加双引号

### Comment(text)

- 向代码生成器中添加一行注释，会自动在文字前加上“#”