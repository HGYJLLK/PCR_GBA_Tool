# 1.2 Exception

这里介绍 module/exception.py 文件

参考了 alas 源码，与传统的异常处理模式不一样，采用轻量级异常类设计，所有异常类定义都使用 pass 语句

```python
# module/exception.py
class TaskEnd(Exception):
    """任务正常结束"""

    pass


class ScriptEnd(Exception):
    """脚本正常结束"""

    pass
```

全部都是用 pass 语句的根本原因是异常类型本身就承载了足够的信息，不需要在异常类中添加复杂的逻辑

同时使得异常的创建和抛出都开销最小化、异常类的含义更加清晰，减少了额外的文档说明

由于基于这样的原因，延伸出了更加高级的一种设计哲学，抛弃异常用于传统的错误处理概念

使得异常不仅用于错误处理，更作为程序控制的一部分。此设计方案就是为了应对 24/7 自动化运行需求

## 两层设计架构

```bash
顶层 (pcr.py)          - 系统级异常处理，应用重启、通知用户、程序控制流
    ↑
底层 (功能模块)          - 功能异常抛出，状态检测
```

1. 基础异常类型 -
    定义TaskEnd、ResourceExhausted等几个核心异常
2. 两层try-catch结构 -
    底层抛异常，顶层处理异常 & 程序流控制
3. CRITICAL日志 -
    遇到无法处理的异常时记录详细信息并请求人工干预