---
name: 编写开发文档 (Writing Dev Docs)
description: 完成新功能后编写开发文档的标准流程
---

# ⚠️ 开发文档编写提醒

## 🚀 启动流程
1. **确认功能完成**: 确保新功能代码已测试通过 (参考 `CLAUDE.md` 或 `tests/`)。
2. **生成初稿**: 由 AI 生成文档初稿 (例如 `config.md`)。
3. **定位目录**: 文档应存放在 `doc/` 目录下，保持命名规范 (如 `2.2 config.md`)。

## 📖 编写原则 (微调指南)
**核心目标**: 去除 AI 痕迹，参考 [AzurLaneAutoScript Wiki](https://github.com/LmeSzinc/AzurLaneAutoScript/wiki) 的优秀写法，使其看起来像人写的。

### 关键修改点
1. **标题简化与重命名**:
   - `JSON 配置格式` -> `JSON 配置`
   - `配置系统采用三层架构` -> `三层架构`
   - **删除** `概述`、`文件结构`、`核心类` 等无意义标题。
   - 直接使用类名作为标题 (如 `PriconneConfig`)。
   - 避免使用 "文件命名" (File Naming) 这种标题，视情况改为 "参数说明" 或 "模板" 等更具体的词。
   - H2 标题前应有一段简短介绍 (不强制固定格式，简明扼要即可)。

2. **内容聚焦与去冗余**:
   - 重点介绍功能用途、关键方法、复杂参数。
   - 难懂逻辑用 `bash` 代码块 + ASCII 图示可视化。
   - 如果后续章节会详细介绍，**不要** 在开头放一个汇总表格 (如工具列表)。
   - **删除** 重复的解释。如果前面讲过了，后面不要再讲一遍。
   - **删除** "调试" (Debugging) 章节，除非是针对工具本身的底层调试，否则开发者应看 `tests/`。
   - **删除** 冗余的“基本用法”标题（如果代码块已足够清晰）。
   - **删除** 冗余的“属性命名规则”（如果代码已展示）。
   - **删除** 简单的工具函数说明 (如 `deep_get`)，除非非常特殊。

3. **语气与格式调整**:
   - **开头简介**: 允许使用 "本文介绍..." 等常规写法，保持与其他文档风格一致即可，不必拘泥于特定格式。
   - **删除** `层` (Layer) 等过于正式/演讲式的词汇。
   - **删除** 每段末尾的句号（固定规则，尤其是列表项或简短描述）。
   - 代码块前的引导语要通俗，如 "使用方法如下" -> "像这样用"，"生成的代码示例" -> "生成的代码就像这样"。
   - 表格内容要准确，不要臆造 (如 Mask 图片需手动定义等细节需准确)。

### 🌟 高级文档风格 (Alas Log Style)
如果文档涉及 **UI 界面**、**日志系统** 或 **可视化输出**，请严格遵循以下 "Alas Log" 风格：

1.  **所见即所得 (Visual First)**:
    -   **原则**: 介绍打印或显示功能时，必须展示其**实际效果**。
    -   **做法**: 代码块紧跟输出块 (`bash` 或纯文本)。
    -   **示例**:
        ````markdown
        ## logger.hr(title, level=0)
        
        仅在脚本启动时使用。
        
        ```python
        logger.hr("Title", level=0)
        ```
        
        输出效果：
        
        ```
        ══════════════════════════════════════════════
                            TITLE
        ══════════════════════════════════════════════
        ```
        ````

2.  **方法即标题 (Method-Centric)**:
    -   **原则**: 不要用 "Line Separator Function" 这种抽象标题。
    -   **做法**: 直接把 `class.method(args)` 作为 H2 或 H3 标题。
        -   ✅ `## logger.hr(title, level=0)`
        -   ❌ `## 分隔线函数`

3.  **讲究"道" (Philosophy & Context)**:
    -   **原则**: 不要只教怎么写代码，要教**什么时候**写，以及**为什么要这样写**。
    -   **示例**: 
        > "强调是一个相对的概念...如果你强调了所有的事物，那么相当于你没有强调任何一个事物。"
    -   在介绍功能前，先写一段 "关于 xxx" (About xxx)，阐述设计理念。

4.  **去语法的描述 (Minimalist Description)**:
    -   **原则**: 代码本身就是最好的文档。
    -   **做法**: 如果代码块里的 `logger.attr("key", "value")` 已经很清楚了，就不要写 "这个函数接受 key 和 value 两个参数..."。直接展示输出结果即可。

5.  **对齐与美学**:
    -   输出示例中的文本应该像代码一样整洁对齐。

## 📋 审查清单
在提交开发文档前，请确认：
- [ ] 已参考 ALAS Wiki 优秀写法进行微调
- [ ] **(新)** 涉及输出的功能，是否展示了**实际效果图/日志**
- [ ] **(新)** 是否使用了 `Method(args)` 作为标题
- [ ] 已删除 `概述`、`核心类`、`文件结构` 等 AI 常用标题
- [ ] 标题是否足够简洁直白 (如 "参数说明" 优于 "文件命名规则")
- [ ] H2 标题前是否有简短介绍
- [ ] 复杂逻辑是否已用 ASCII 图示可视化 (推荐使用 `bash` 块)
- [ ] 文件树结构 (`tree` 图示) 是否准确，没有遗漏关键文件
- [ ] 是否注明了自动生成文件 (`GeneratedConfig`) 不可手动编辑
- [ ] 是否删除了冗余的汇总表格
- [ ] 引导语是否自然 (拒绝 "如下所示")

## 🔄 文档维护
- 每次修改代码后，检查是否需要同步更新 `doc/` 下的相关文档。
- 涉及配置变更时，确保 `argument.yaml` 和文档同步。

## 🚨 常见错误提醒
### ❌ 不要这样做：
- 保留 "配置系统采用三层架构" 这种啰嗦标题。
- 使用 "层" (Layer) 这种演讲式词汇。
- 在开头放一个长长的功能列表表格，然后后面又把它们挨个介绍一遍。
- 使用 "文件名格式" 这种生硬的表头。
- 在 `bash` 块中画错文件树结构 (如漏掉 `args.json`)。
- 对简单的代码做过度的文字解释。
- 详细介绍错误的或过时的流程。
- 强行添加 "调试" 章节。

### ✅ 应该这样做：
- 解释 "它是做什么的"，而不是单纯列举 "它包含什么"。
- 用图示替代长篇大论。
- 只有在真正需要时才解释函数参数。
- 用 `bash` 块展示文件树或交互流程。
- "生成的代码就像这样" 比 "代码示例如下" 更好。
